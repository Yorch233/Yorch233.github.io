import{_ as as,r as p,c as h,x as qt,o as ss,p as Za,w as re,b as u,d as _,e as t,t as b,s as z,F as P,f as A,i as E,n as I,g as ca,T as Wt,v as Qe,y as le,z as Be,A as Ja,B as Xa}from"./index-T-GeXzXB.js";const ts="/assets/050a050v_c1_152_t60_1.57-DNo8cVUf.wav",ns="/assets/051o020a_c1_454_snr_5.2-CdviCkkA.wav",os="/assets/051o020t_c1_473_snr_8.3-DXotndtl.wav",rs="/assets/053c010d_c1_896_snr_1.1-4ZRpcxme.wav",ls="/assets/053c010k_c1_903_snr_-5.0-CWAvcMMp.wav",is="/assets/22gc0110_c1_1161_t60_1.72-HCn2IUO0.wav",cs="/assets/420c020o_c1_1633_t60_1.19-CZZILkBS.wav",us="/assets/421c0214_c2_1769_t60_1.86-BwLoPT-M.wav",ds="/assets/421o0307_c1_1896_snr_8.7-C2vI2qWK.wav",_s="/assets/422c020d_c2_1982_t60_1.68-DKIeiLVA.wav",vs="/assets/050a050v_c1_152_t60_1.57-BpZyqh7B.wav",ps="/assets/051o020a_c1_454_snr_5.2-BhY7mBGc.wav",ms="/assets/051o020t_c1_473_snr_8.3-BTvvsHpL.wav",fs="/assets/053c010d_c1_896_snr_1.1-DSqvW6dW.wav",hs="/assets/053c010k_c1_903_snr_-5.0-BUFH6a9r.wav",gs="/assets/22gc0110_c1_1161_t60_1.72-C4wu8c4P.wav",bs="/assets/420c020o_c1_1633_t60_1.19-BpRbwu1-.wav",ws="/assets/421c0214_c2_1769_t60_1.86-Q7z4cpcW.wav",Ss="/assets/421o0307_c1_1896_snr_8.7-rsrNDu-g.wav",ys="/assets/422c020d_c2_1982_t60_1.68-BpjeU09r.wav",Rs="/assets/050a050v_c1_152_t60_1.57-CvhZDAyo.wav",Ms="/assets/051o020a_c1_454_snr_5.2-DYetsLjT.wav",Bs="/assets/051o020t_c1_473_snr_8.3-CwOK4UG4.wav",ks="/assets/053c010d_c1_896_snr_1.1-DpfHFcYn.wav",xs="/assets/053c010k_c1_903_snr_-5.0-DiaqB7a6.wav",Cs="/assets/22gc0110_c1_1161_t60_1.72-DEQ4-1E8.wav",Ns="/assets/420c020o_c1_1633_t60_1.19-Cl8HdOAU.wav",$s="/assets/421c0214_c2_1769_t60_1.86-Cbo1o95C.wav",Ts="/assets/421o0307_c1_1896_snr_8.7-DklYkS7I.wav",Ls="/assets/422c020d_c2_1982_t60_1.68-65bJ9H90.wav",Ds="/assets/050a050v_c1_152_t60_1.57-DqXrYtBJ.wav",Ps="/assets/051o020a_c1_454_snr_5.2-CWhTvTAa.wav",As="/assets/051o020t_c1_473_snr_8.3-qM_ibCXt.wav",Is="/assets/053c010d_c1_896_snr_1.1-BBcDxnp-.wav",zs="/assets/053c010k_c1_903_snr_-5.0-UQKnp7wS.wav",Es="/assets/22gc0110_c1_1161_t60_1.72-DjmWrned.wav",Ks="/assets/420c020o_c1_1633_t60_1.19-DplED0NS.wav",Fs="/assets/421c0214_c2_1769_t60_1.86-BKkjs79k.wav",Gs="/assets/421o0307_c1_1896_snr_8.7-CtAulGKl.wav",qs="/assets/422c020d_c2_1982_t60_1.68-D95Z-yxq.wav",Ws="/assets/050a050v_c1_152_t60_1.57-BfOoGZjy.wav",Hs="/assets/051o020a_c1_454_snr_5.2-C4Y0qzGO.wav",Vs="/assets/051o020t_c1_473_snr_8.3-Cv07XJiA.wav",js="/assets/053c010d_c1_896_snr_1.1-CWrNQ9FV.wav",Os="/assets/053c010k_c1_903_snr_-5.0-BP4JaKOh.wav",Us="/assets/22gc0110_c1_1161_t60_1.72-CcNyNj2z.wav",Ys="/assets/420c020o_c1_1633_t60_1.19-D7_rvMiY.wav",Qs="/assets/421c0214_c2_1769_t60_1.86-D6bCPskW.wav",Zs="/assets/421o0307_c1_1896_snr_8.7-D8ttMFfp.wav",Js="/assets/422c020d_c2_1982_t60_1.68-BfRh0UNf.wav",Xs="/assets/050a050v_c1_152_t60_1.57-BDj51lym.wav",et="/assets/051o020a_c1_454_snr_5.2-C_wnR76_.wav",at="/assets/051o020t_c1_473_snr_8.3-D9lIPD4L.wav",st="/assets/053c010d_c1_896_snr_1.1-BPNjN9ef.wav",tt="/assets/053c010k_c1_903_snr_-5.0-C1Hf_kB-.wav",nt="/assets/22gc0110_c1_1161_t60_1.72-CgmK3u29.wav",ot="/assets/420c020o_c1_1633_t60_1.19-DcQrH1YJ.wav",rt="/assets/421c0214_c2_1769_t60_1.86-CB09amZ6.wav",lt="/assets/421o0307_c1_1896_snr_8.7-D3VPf2Qg.wav",it="/assets/422c020d_c2_1982_t60_1.68-D4yo4deO.wav",Ht="/logo/icon.png",Vt={class:"wave-header"},jt={class:"wave-description"},Ot={class:"wave-desc-item"},Ut={key:0,class:"wave-desc-index"},Yt={class:"wave-desc-item"},Qt={class:"wave-desc-value"},Zt={class:"wave-desc-item wave-desc-tooltip"},Jt={class:"wave-desc-label"},Xt={class:"wave-desc-value"},en={key:0,class:"wave-desc-tip"},an={class:"method-list"},sn={class:"method-group method-group-primary"},tn=["onMouseenter"],nn=["disabled","onClick"],on={class:"chip-label"},rn={key:0,class:"chip-spinner","aria-hidden":"true"},ln={key:1,class:"chip-action","aria-hidden":"true"},cn=["src"],un={key:0,class:"method-group method-group-secondary"},dn={class:"method-group-scroll"},_n=["onMouseenter"],vn=["disabled","onClick"],pn={class:"chip-label"},mn={key:0,class:"chip-spinner","aria-hidden":"true"},fn={key:1,class:"chip-action","aria-hidden":"true"},hn=["src"],gn={class:"wave-panel"},bn={class:"wave-panel-header"},wn={class:"wave-panel-title"},Sn={class:"wave-panel-actions"},yn={class:"view-toggle",role:"group","aria-label":"Visualization mode"},Rn={class:"wave-canvas-wrap","aria-hidden":"true"},Mn={key:0,class:"canvas-loading wave-loading"},Bn={class:"wave-time-axis","aria-hidden":"true"},kn={class:"time-axis-track"},xn={class:"time-axis-label"},Cn={class:"time-axis-caret-label"},Nn={class:"spectrogram-block","aria-hidden":"true"},$n={class:"spectrogram-labels"},Tn={class:"spectrogram-label"},Ln={class:"spectrogram-label"},Dn={class:"spectrogram-row"},Pn={class:"spectrogram-axis spectrogram-axis-y"},An={class:"spectrogram-axis-label"},In={class:"spectrogram-axis spectrogram-axis-x"},zn={class:"spectrogram-axis-label"},En={key:0,class:"canvas-loading spectrogram-loading"},Kn={class:"spectrogram-axis spectrogram-axis-y"},Fn={class:"spectrogram-axis-label"},Gn={class:"spectrogram-axis spectrogram-axis-x"},qn={class:"spectrogram-axis-label"},Wn={key:0,class:"spectrogram-placeholder"},Hn={key:1,class:"canvas-loading spectrogram-loading"},Vn={class:"spectrogram-controls","aria-hidden":"true"},jn={class:"spectrogram-quality"},On={class:"spectrogram-quality-options",role:"group","aria-label":"Spectrogram quality"},Un=["onClick"],Yn={class:"progress-row"},Qn=["aria-label"],Zn=["src","alt"],Jn={class:"time-label"},Xn=["value"],eo={class:"time-label"},ao={class:"volume-control"},so=["aria-label"],to=["src","alt"],no={class:"volume-popover"},oo={class:"volume-label"},ro={class:"volume-slider-wrap"},lo=["value"],io=["src"],co=40,uo={__name:"AudioWaveCompare",props:{sampleName:{type:String,required:!0},sampleIndex:{type:Number,default:null},methods:{type:Array,default:()=>[]},defaultMethod:{type:String,default:"Measurement"},cleanKey:{type:String,default:"Ground_Truth"},measurementKey:{type:String,default:"Measurement"}},setup(ua){var Ua;const N=p(100),c=ua,J=[{key:"Ground_Truth",label:"Ground Truth (Clean)"},{key:"Measurement",label:"Measurement (Noisy/Reverb)"},{key:"NCSN+M",label:"NCSN+M"},{key:"SB",label:"SB"},{key:"StoRM",label:"StoRM"},{key:"RSB",label:"RSB (Ours)"}],K=h(()=>{var e;return(e=c.methods)!=null&&e.length?c.methods:J}),j=h(()=>{const e=[...K.value],a=e.find(r=>r.key===c.measurementKey),s=e.find(r=>r.key===c.cleanKey),n=e.filter(r=>r.key!==c.measurementKey&&r.key!==c.cleanKey);return[a,...n,s].filter(Boolean)}),y=p(c.defaultMethod),W=p(null),O=p(null),me=p(null),fe=p(null),he=p(null),ie=p(null),T=p(null),ge=p(null),$=p(null),L=p(null),X=p(1),F=p(0),w=p(0),U=p(!1),Ee=p(0),g=p(!1),i=p(0),d=p(null),C=p(null),Ke=p(!1),Ze=p(!1),D=p("waveform"),ee=p(!1),ae=p(!1),se=p(!1),Je=p({x:0,y:0}),oe=p(!1),da=p(!0),_a=p(!0),ke=p(""),xe=p(""),Y=p(!1),be=p(""),Fe=p({}),ct=h(()=>Ce(c.cleanKey)),Ge=h(()=>Ce(y.value)),ut=h(()=>Ce(c.measurementKey));h(()=>{var e;return((e=K.value.find(a=>a.key===c.cleanKey))==null?void 0:e.label)||"Ground Truth"});const va=h(()=>{var e;return((e=K.value.find(a=>a.key===y.value))==null?void 0:e.label)||y.value}),pa=h(()=>{var e;return((e=K.value.find(a=>a.key===c.measurementKey))==null?void 0:e.label)||"Measurement"}),G=h(()=>y.value!==c.measurementKey),qe=h(()=>ta[c.measurementKey]||"#ef4444"),We=h(()=>ta[y.value]||"#0a84ff"),Xe=h(()=>w.value?F.value/w.value*100:0),dt=h(()=>({background:`linear-gradient(90deg, #0a84ff 0%, #0a84ff ${Xe.value}%, #e2e8f0 ${Xe.value}%, #e2e8f0 100%)`})),_t=h(()=>Math.max(0,w.value-F.value)),vt=h(()=>ve(Ee.value)),pt=h(()=>w.value?F.value/w.value*100:0),we=h(()=>{if(!w.value||w.value<=0)return[];const e=[];for(let a=0;a<=Math.floor(w.value);a+=1)e.push(a);return e}),mt=h(()=>we.value.length?we.value[we.value.length-1]:0),ma=h(()=>[0,2,4,6,8]),ft=h(()=>U.value?"/logo/reload.svg":Y.value?"/logo/player-pause.svg":"/logo/player-play.svg"),fa=h(()=>U.value?"Replay":Y.value?"Pause":"Play"),ht=h(()=>c.sampleName),ha=h(()=>Number.isFinite(c.sampleIndex)&&c.sampleIndex>0?`#${c.sampleIndex}`:""),He=h(()=>{const e=c.sampleName.match(/snr=([\-\d]+(?:\.\d+)?)/i);if(e)return{label:"SNR",value:`${e[1]} dB`,tooltip:"Signal-to-noise ratio (SNR) measures speech strength relative to background noise. Higher is cleaner."};const a=c.sampleName.match(/t60=([\-\d]+(?:\.\d+)?)/i);return a?{label:"T60",value:`${a[1]} s`,tooltip:"Reverberation time (T60) is the time for sound to decay by 60 dB. Lower means less reverberation."}:{label:"Metric",value:"—",tooltip:""}}),ga=h(()=>Math.round(N.value)),gt=h(()=>N.value<=0?"/logo/volume-off.svg":N.value<100?"/logo/volume-2.svg":"/logo/volume.svg"),ba=h(()=>N.value<=0?"Mute":"Volume"),ce=h(()=>C.value??d.value),bt=h(()=>ce.value==="compare"?.1:1),wt=h(()=>ce.value==="measurement"?.1:1),ea=h(()=>{const e=G.value?.45:1;return ce.value==="compare"?.1:C.value==="measurement"?1:e}),aa=h(()=>ce.value==="measurement"?.1:.9),wa=h(()=>ke.value||xe.value?ke.value||xe.value:""),Sa=h(()=>ee.value||ae.value),ue={instance:null,decodeContext:null},Ve=new Map,H=new Map,de=p(1),sa=h(()=>({1:1,2:1.6,3:2.2,4:3,5:4})[de.value]??2.2),je=(Ua=qt())==null?void 0:Ua.appContext.config.globalProperties.$messageBox,St=async e=>{if(e!==de.value){if(!(je!=null&&je.confirm)){de.value=e;return}try{await je.confirm({title:"Spectrogram Quality",message:'Notice: Higher quality means longer rendering time. <span style="color:#ef4444;font-weight:600;">It may even cause the browser to crash. Please save any unsaved work in other tabs first.</span>',closeOnClickOverlay:!0}),de.value=e}catch{}}},ta={Measurement:"#ff9d00",Ground_Truth:"#3b82f6","NCSN+M":"#22c55e","NCSN++M":"#22c55e",SB:"#a855f7",StoRM:"#14b8a6",RSB:"#f97316"},yt={Measurement:"Measurement is the degraded speech corrupted by noise and reverberation.",Ground_Truth:"Ground Truth is the original clean speech.","NCSN++M":"NCSN++M is a common backbone of diffusion models used here as a purely predictive method, trained with an MSE loss to predict clean speech.",SB:"SB models the transport between noisy and clean speech directly via Schrödinger Bridge. It is our baseline method.",StoRM:"StoRM is a hybrid method that cascades a predictive model with a diffusion model. The diffusion model refines details from the initial predictive estimate.",RSB:"RSB is the proposed method in this paper."},te=(e,a)=>{Fe.value={...Fe.value,[e]:a}},_e=e=>Fe.value[e]==="ready",Ce=e=>new URL(Object.assign({"../assets/RSB/audio/Ground_Truth/050a050v_c1_152_t60=1.57.wav":ts,"../assets/RSB/audio/Ground_Truth/051o020a_c1_454_snr=5.2.wav":ns,"../assets/RSB/audio/Ground_Truth/051o020t_c1_473_snr=8.3.wav":os,"../assets/RSB/audio/Ground_Truth/053c010d_c1_896_snr=1.1.wav":rs,"../assets/RSB/audio/Ground_Truth/053c010k_c1_903_snr=-5.0.wav":ls,"../assets/RSB/audio/Ground_Truth/22gc0110_c1_1161_t60=1.72.wav":is,"../assets/RSB/audio/Ground_Truth/420c020o_c1_1633_t60=1.19.wav":cs,"../assets/RSB/audio/Ground_Truth/421c0214_c2_1769_t60=1.86.wav":us,"../assets/RSB/audio/Ground_Truth/421o0307_c1_1896_snr=8.7.wav":ds,"../assets/RSB/audio/Ground_Truth/422c020d_c2_1982_t60=1.68.wav":_s,"../assets/RSB/audio/Measurement/050a050v_c1_152_t60=1.57.wav":vs,"../assets/RSB/audio/Measurement/051o020a_c1_454_snr=5.2.wav":ps,"../assets/RSB/audio/Measurement/051o020t_c1_473_snr=8.3.wav":ms,"../assets/RSB/audio/Measurement/053c010d_c1_896_snr=1.1.wav":fs,"../assets/RSB/audio/Measurement/053c010k_c1_903_snr=-5.0.wav":hs,"../assets/RSB/audio/Measurement/22gc0110_c1_1161_t60=1.72.wav":gs,"../assets/RSB/audio/Measurement/420c020o_c1_1633_t60=1.19.wav":bs,"../assets/RSB/audio/Measurement/421c0214_c2_1769_t60=1.86.wav":ws,"../assets/RSB/audio/Measurement/421o0307_c1_1896_snr=8.7.wav":Ss,"../assets/RSB/audio/Measurement/422c020d_c2_1982_t60=1.68.wav":ys,"../assets/RSB/audio/NCSN++M/050a050v_c1_152_t60=1.57.wav":Rs,"../assets/RSB/audio/NCSN++M/051o020a_c1_454_snr=5.2.wav":Ms,"../assets/RSB/audio/NCSN++M/051o020t_c1_473_snr=8.3.wav":Bs,"../assets/RSB/audio/NCSN++M/053c010d_c1_896_snr=1.1.wav":ks,"../assets/RSB/audio/NCSN++M/053c010k_c1_903_snr=-5.0.wav":xs,"../assets/RSB/audio/NCSN++M/22gc0110_c1_1161_t60=1.72.wav":Cs,"../assets/RSB/audio/NCSN++M/420c020o_c1_1633_t60=1.19.wav":Ns,"../assets/RSB/audio/NCSN++M/421c0214_c2_1769_t60=1.86.wav":$s,"../assets/RSB/audio/NCSN++M/421o0307_c1_1896_snr=8.7.wav":Ts,"../assets/RSB/audio/NCSN++M/422c020d_c2_1982_t60=1.68.wav":Ls,"../assets/RSB/audio/RSB/050a050v_c1_152_t60=1.57.wav":Ds,"../assets/RSB/audio/RSB/051o020a_c1_454_snr=5.2.wav":Ps,"../assets/RSB/audio/RSB/051o020t_c1_473_snr=8.3.wav":As,"../assets/RSB/audio/RSB/053c010d_c1_896_snr=1.1.wav":Is,"../assets/RSB/audio/RSB/053c010k_c1_903_snr=-5.0.wav":zs,"../assets/RSB/audio/RSB/22gc0110_c1_1161_t60=1.72.wav":Es,"../assets/RSB/audio/RSB/420c020o_c1_1633_t60=1.19.wav":Ks,"../assets/RSB/audio/RSB/421c0214_c2_1769_t60=1.86.wav":Fs,"../assets/RSB/audio/RSB/421o0307_c1_1896_snr=8.7.wav":Gs,"../assets/RSB/audio/RSB/422c020d_c2_1982_t60=1.68.wav":qs,"../assets/RSB/audio/SB/050a050v_c1_152_t60=1.57.wav":Ws,"../assets/RSB/audio/SB/051o020a_c1_454_snr=5.2.wav":Hs,"../assets/RSB/audio/SB/051o020t_c1_473_snr=8.3.wav":Vs,"../assets/RSB/audio/SB/053c010d_c1_896_snr=1.1.wav":js,"../assets/RSB/audio/SB/053c010k_c1_903_snr=-5.0.wav":Os,"../assets/RSB/audio/SB/22gc0110_c1_1161_t60=1.72.wav":Us,"../assets/RSB/audio/SB/420c020o_c1_1633_t60=1.19.wav":Ys,"../assets/RSB/audio/SB/421c0214_c2_1769_t60=1.86.wav":Qs,"../assets/RSB/audio/SB/421o0307_c1_1896_snr=8.7.wav":Zs,"../assets/RSB/audio/SB/422c020d_c2_1982_t60=1.68.wav":Js,"../assets/RSB/audio/StoRM/050a050v_c1_152_t60=1.57.wav":Xs,"../assets/RSB/audio/StoRM/051o020a_c1_454_snr=5.2.wav":et,"../assets/RSB/audio/StoRM/051o020t_c1_473_snr=8.3.wav":at,"../assets/RSB/audio/StoRM/053c010d_c1_896_snr=1.1.wav":st,"../assets/RSB/audio/StoRM/053c010k_c1_903_snr=-5.0.wav":tt,"../assets/RSB/audio/StoRM/22gc0110_c1_1161_t60=1.72.wav":nt,"../assets/RSB/audio/StoRM/420c020o_c1_1633_t60=1.19.wav":ot,"../assets/RSB/audio/StoRM/421c0214_c2_1769_t60=1.86.wav":rt,"../assets/RSB/audio/StoRM/421o0307_c1_1896_snr=8.7.wav":lt,"../assets/RSB/audio/StoRM/422c020d_c2_1982_t60=1.68.wav":it})[`../assets/RSB/audio/${e}/${c.sampleName}`],import.meta.url).href,Ne=()=>{if(!ue.instance){const e=window.AudioContext||window.webkitAudioContext;ue.instance=new e}return ue.instance},Rt=()=>{if(!ue.decodeContext){const e=window.OfflineAudioContext||window.webkitOfflineAudioContext;e?ue.decodeContext=new e(1,1,44100):ue.decodeContext=Ne()}return ue.decodeContext},Oe=async e=>{if(Ve.has(e))return Ve.get(e);const a=await fetch(e);if(!a.ok)throw new Error(`Failed to fetch audio: ${a.status}`);const s=await a.arrayBuffer(),n=Rt();try{const r=await n.decodeAudioData(s.slice(0));return Ve.set(e,r),r}catch{const o=Ne();if(o.state==="suspended")try{await o.resume()}catch{}const l=await o.decodeAudioData(s.slice(0));return Ve.set(e,l),l}},ya=e=>{const a=e.getChannelData(0);let s=0;for(let n=0;n<a.length;n+=1){const r=Math.abs(a[n]);r>s&&(s=r)}return s===0?1:.95/s},Mt=()=>{var e,a,s,n,r,o,l,m,v;return y.value===c.measurementKey?((e=L.value)==null?void 0:e.duration)??((a=$.value)==null?void 0:a.duration)??((s=ge.value)==null?void 0:s.duration)??0:y.value===c.cleanKey?((n=ge.value)==null?void 0:n.duration)??((r=$.value)==null?void 0:r.duration)??((o=L.value)==null?void 0:o.duration)??0:((l=$.value)==null?void 0:l.duration)??((m=L.value)==null?void 0:m.duration)??((v=ge.value)==null?void 0:v.duration)??0},Ra=(e,a,s,n,r={})=>{if(!e||!a)return;const{color:o="#2563eb",alpha:l=1,scale:m=1}=r,v=a.getChannelData(0),f=Math.max(1,Math.floor(v.length/s)),R=n/2;e.strokeStyle=o,e.globalAlpha=l,e.lineWidth=1,e.beginPath();for(let B=0;B<s;B+=1){const M=B*f;let k=1,S=-1;for(let x=0;x<f;x+=1){const Z=v[M+x]??0;Z<k&&(k=Z),Z>S&&(S=Z)}const V=Math.max(-1,Math.min(1,k*m)),q=Math.max(-1,Math.min(1,S*m));e.moveTo(B,(1+V)*R),e.lineTo(B,(1+q)*R)}e.stroke(),e.globalAlpha=1},Ma=e=>e.join("|"),na=(e,a)=>{H.size>=co&&H.clear(),H.set(e,a)},Ba=e=>{const a=e.replace("#","");if(a.length!==6)return{r:15,g:23,b:42};const s=Number.parseInt(a,16);return{r:s>>16&255,g:s>>8&255,b:s&255}},ka=(e,a,s)=>{const n=Ba(e),r=Ba(a),o=Math.min(1,Math.max(0,s)),l=Math.round(n.r+(r.r-n.r)*o),m=Math.round(n.g+(r.g-n.g)*o),v=Math.round(n.b+(r.b-n.b)*o);return`rgb(${l}, ${m}, ${v})`},xa=(e,a,s,n,r,o,l)=>{const m=()=>{if(!L.value)return;e.save(),e.beginPath(),e.rect(0,r,n,o),e.clip(),e.save(),e.translate(0,r);const f=l==="muted"?ka(qe.value,"#f8fafc",.65):qe.value;Ra(e,L.value,n,o,{color:f,alpha:ea.value,scale:X.value}),e.restore(),e.restore()},v=()=>{if(!$.value||!G.value)return;e.save(),e.beginPath(),e.rect(0,r,n,o),e.clip(),e.save(),e.translate(0,r);const f=l==="muted"?ka(We.value,"#f8fafc",.65):We.value;Ra(e,$.value,n,o,{color:f,alpha:aa.value,scale:X.value}),e.restore(),e.restore()};ce.value==="measurement"?(v(),m()):(ce.value,m(),v())},Ca=(e,a,s,n,r,o)=>{const l=r+o/2,m=o/2;[1,.5,0,-.5,-1].forEach(f=>{const R=l-f*m;e.beginPath(),e.lineWidth=f===0?1.4:1,e.strokeStyle=f===0?"rgba(148, 163, 184, 0.55)":"rgba(148, 163, 184, 0.25)",e.moveTo(0,R),e.lineTo(n,R),e.stroke()})},Na=(e,a,s,n,r)=>{const o=n+r/2,l=r/2,m=[1,.5,0,-.5,-1],v=a-6;e.font='10px "Times New Roman", serif',e.textAlign="right",e.textBaseline="middle",e.fillStyle="rgba(100, 116, 139, 0.9)",m.forEach(f=>{const R=o-f*l;e.fillText(f.toFixed(1),v,R)})},$a=(e,a,s,n)=>{if(!Number.isFinite(n))return;const r=Y.value?.6+.4*Math.sin(performance.now()*.008):1;e.beginPath(),e.lineWidth=oe.value?2.6:1.3,e.strokeStyle=`rgba(148, 163, 184, ${.8*r})`,e.moveTo(n,0),e.lineTo(n,s),e.stroke()},Q=()=>{if(D.value==="spectrogram"){ae.value=!0,Da(),ee.value=!1;return}const e=O.value;if(!e){ee.value=!1;return}const a=e.getBoundingClientRect(),s=a.height||110,n=a.width||480,r=window.devicePixelRatio||1;e.width=n*r,e.height=s*r;const o=e.getContext("2d");if(!o){ee.value=!1;return}const l=Ma(["waveform",c.sampleName,y.value,ce.value??"none",G.value?"1":"0",L.value?"m1":"m0",$.value?"c1":"c0",X.value,qe.value,We.value,ea.value,aa.value,n,s,r]),m=`${l}|normal`,v=`${l}|muted`,f=H.get(m),R=H.get(v);o.setTransform(r,0,0,r,0,0),o.clearRect(0,0,n,s);const B=28,M=10,k=10,S=Math.max(0,n-B),V=Math.max(0,s-M-k),q=w.value?F.value/w.value*S:0;if(f&&R){ee.value=!1,Ca(o,n,s,S,M,V),o.save(),o.globalAlpha=1,o.beginPath(),o.rect(0,0,Math.max(0,Math.min(S,q)),s),o.clip(),o.drawImage(f,0,0,n,s),o.restore(),o.save(),o.beginPath(),o.rect(Math.max(0,Math.min(S,q)),0,S,s),o.clip(),o.drawImage(R,0,0,n,s),o.restore(),Na(o,n,s,M,V),$a(o,S,s,q),e.style.opacity="1";return}e.style.opacity="0",ee.value=!0;const x=document.createElement("canvas");x.width=n*r,x.height=s*r;const Z=x.getContext("2d");if(!Z){ee.value=!1;return}Z.setTransform(r,0,0,r,0,0),xa(Z,n,s,S,M,V,"normal"),na(m,x);const pe=document.createElement("canvas");pe.width=n*r,pe.height=s*r;const Re=pe.getContext("2d");Re&&(Re.setTransform(r,0,0,r,0,0),xa(Re,n,s,S,M,V,"muted"),na(v,pe)),Ca(o,n,s,S,M,V),o.save(),o.globalAlpha=1,o.beginPath(),o.rect(0,0,Math.max(0,Math.min(S,q)),s),o.clip(),o.drawImage(x,0,0,n,s),o.restore(),o.save(),o.beginPath(),o.rect(Math.max(0,Math.min(S,q)),0,S,s),o.clip(),o.drawImage(pe,0,0,n,s),o.restore(),Na(o,n,s,M,V),$a(o,S,s,q),requestAnimationFrame(()=>{e.style.opacity="1",ee.value=!1})},$e=[[0,0,0,4],[.1,25,6,64],[.2,53,11,99],[.3,84,21,117],[.4,113,31,126],[.5,142,41,122],[.6,170,54,99],[.7,198,72,70],[.8,225,101,40],[.9,246,136,22],[1,252,181,20]],Bt=()=>{switch(de.value){case 1:return{fftSize:512,hopLength:256};case 2:return{fftSize:512,hopLength:128};case 3:return{fftSize:1024,hopLength:128};case 4:return{fftSize:1024,hopLength:64};case 5:return{fftSize:2048,hopLength:64};default:return{fftSize:1024,hopLength:128}}},kt=e=>{const a=Math.min(1,Math.max(0,e));for(let n=0;n<$e.length-1;n+=1){const[r,o,l,m]=$e[n],[v,f,R,B]=$e[n+1];if(a>=r&&a<=v){const M=(a-r)/(v-r);return{r:Math.round(o+(f-o)*M),g:Math.round(l+(R-l)*M),b:Math.round(m+(B-m)*M)}}}const s=$e[$e.length-1];return{r:s[1],g:s[2],b:s[3]}},xt=(e,a,s,n,r)=>{const o=a.getChannelData(0),{fftSize:l,hopLength:m}=Bt(),v=l/2,f=Math.max(1,Math.floor((o.length-l)/m)+1),R=new Float32Array(l);for(let x=0;x<l;x+=1)R[x]=.5-.5*Math.cos(2*Math.PI*x/(l-1));const B=-60,M=0,k=1e-10,S=a.sampleRate/2,q=Math.min(v,Math.max(8,Math.floor(1e4/S*v)));for(let x=0;x<s;x+=1){const Z=Math.min(f-1,Math.floor(x/s*f)),pe=Math.min(Z*m,Math.max(0,o.length-l)),Re=new Float32Array(v);for(let ne=0;ne<v;ne+=1){let Ae=0,Me=0;for(let ze=0;ze<l;ze+=1){const Ya=(o[pe+ze]||0)*R[ze],Qa=2*Math.PI*ne*ze/l;Ae+=Ya*Math.cos(Qa),Me-=Ya*Math.sin(Qa)}const Ie=Math.sqrt(Ae*Ae+Me*Me),Gt=20*Math.log10(.1*Ie+k);Re[ne]=Math.min(1,Math.max(0,(Gt-B)/(M-B)))}for(let ne=0;ne<n;ne+=1){const Ae=Math.floor(ne/n*q),Me=Re[Ae]||0;if(Me<=0)continue;const Ie=kt(Me);e.fillStyle=`rgb(${Ie.r}, ${Ie.g}, ${Ie.b})`,e.fillRect(x,n-ne-1,1,1)}}},Ue=(e,a,s,n)=>{if(!e||!a)return;const r=e.getBoundingClientRect(),o=r.height||110,l=r.width||240,m=(window.devicePixelRatio||1)*sa.value,v=Math.max(1,Math.floor(l*m)),f=Math.max(1,Math.floor(o*m)),R=`${s}|${l}|${o}|${m}`;e.width=v,e.height=f;const B=e.getContext("2d");if(!B)return;const M=H.get(R);if(B.setTransform(1,0,0,1,0,0),B.clearRect(0,0,v,f),M){B.drawImage(M,0,0,v,f);return}const k=document.createElement("canvas");k.width=v,k.height=f;const S=k.getContext("2d");S&&(S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,v,f),S.fillStyle="#0b0f16",S.fillRect(0,0,v,f),xt(S,a,v,f),na(R,k),B.drawImage(k,0,0,v,f))},Ta=(e,a)=>{if(!e||!a||!se.value)return;const s=e.getBoundingClientRect(),n=s.width||0,r=s.height||0;if(!n||!r)return;const o=window.devicePixelRatio||1;a.width=n*o,a.height=r*o;const l=a.getContext("2d");if(!l)return;l.setTransform(o,0,0,o,0,0),l.clearRect(0,0,n,r);const m=2.2,v=140,f=90,R=Math.min(1,Math.max(0,Je.value.x)),B=Math.min(1,Math.max(0,Je.value.y));let M=R*n-v/2,k=B*r-f/2;M=Math.min(Math.max(0,M),n-v),k=Math.min(Math.max(0,k),r-f);const S=M*(e.width/n),V=k*(e.height/r),q=v/m*(e.width/n),x=f/m*(e.height/r);l.imageSmoothingEnabled=!0,l.drawImage(e,S,V,q,x,M,k,v,f),l.lineWidth=1.5,l.strokeStyle="rgba(255, 255, 255, 0.9)",l.strokeRect(M+.5,k+.5,v-1,f-1)},Te=e=>{if(!e)return;const a=e.getBoundingClientRect(),s=a.width||0,n=a.height||0,r=window.devicePixelRatio||1;e.width=s*r,e.height=n*r;const o=e.getContext("2d");o&&(o.setTransform(r,0,0,r,0,0),o.clearRect(0,0,s,n))},La=()=>{Ta(me.value,he.value),G.value?Ta(fe.value,ie.value):Te(ie.value)},Ye=e=>{if(!e)return;const a=e.getBoundingClientRect(),s=a.height||110,n=a.width||240,r=(window.devicePixelRatio||1)*sa.value,o=Math.max(1,Math.floor(n*r)),l=Math.max(1,Math.floor(s*r));e.width=o,e.height=l;const m=e.getContext("2d");m&&(m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,o,l),m.fillStyle="#0b0f16",m.fillRect(0,0,o,l))},Da=()=>{const e=me.value,a=fe.value;if(!e||!a){ae.value=!1;return}const s=Ma(["spectrogram",c.sampleName,y.value,ea.value,aa.value]),n=(v,f)=>{const R=v.getBoundingClientRect(),B=R.height||110,M=R.width||240,k=(window.devicePixelRatio||1)*sa.value;return`${s}${f}|${M}|${B}|${k}`},r=n(e,"|left"),o=n(a,"|right"),l=H.has(r),m=!G.value||H.has(o);if(l&&m){Ue(e,L.value,`${s}|left`),$.value&&G.value?Ue(a,$.value,`${s}|right`):Ye(a),ae.value=!1;return}ae.value=!0,Ye(e),Ye(a),requestAnimationFrame(()=>{window.setTimeout(()=>{L.value&&Ue(e,L.value,`${s}|left`),$.value&&G.value?Ue(a,$.value,`${s}|right`):Ye(a),requestAnimationFrame(()=>{ae.value=!1,se.value&&La()})},0)})},Ct=async()=>{try{const e=await Oe(ut.value);L.value=e,X.value=ya(e),te(c.measurementKey,"ready"),Q()}catch{L.value=null,X.value=1,te(c.measurementKey,"error")}},Nt=async()=>{da.value=!0,ke.value="";try{const e=await Oe(ct.value);ge.value=e,te(c.cleanKey,"ready"),Q()}catch{ke.value="Load failed",te(c.cleanKey,"error")}finally{da.value=!1}},Pa=async()=>{_a.value=!0,xe.value="";try{const e=await Oe(Ge.value);$.value=e,te(y.value,"ready"),y.value===c.measurementKey&&!L.value&&(L.value=e,X.value=ya(e)),(!Number.isFinite(w.value)||w.value<=0)&&(w.value=e.duration||0),Q()}catch{xe.value="Load failed",te(y.value,"error")}finally{_a.value=!1}},$t=()=>{Q()},Tt=async e=>{const a=T.value;if(!a||!_e(e))return;Wa();const s=Ne();if(s.state==="suspended")try{await s.resume()}catch{}const n=Ce(e);if(be.value===e&&!a.paused){a.pause();return}a.src!==n&&(a.src=n);try{await a.play(),be.value=e}catch{}},Aa=e=>{_e(e)&&(y.value=e,Tt(e))},Lt=()=>{const e=T.value;if(!e||!_e(y.value))return;Wa();const a=Ne();a.state==="suspended"&&a.resume().catch(()=>{}),e.src!==Ge.value&&(e.src=Ge.value),U.value&&(e.currentTime=0),e.paused?e.play():e.pause()},Dt=e=>e===c.measurementKey?"measurement":e===c.cleanKey?"ground-truth":"method",Pt=h(()=>j.value.filter(e=>e.key===c.measurementKey||e.key===c.cleanKey)),Ia=h(()=>j.value.filter(e=>e.key!==c.measurementKey&&e.key!==c.cleanKey)),za=e=>({"--method-color":ta[e]||"#94a3b8"}),Ea=e=>Y.value&&be.value===e?"/logo/player-pause.svg":"/logo/player-play.svg",Se=p({text:"",x:0,y:0,visible:!1});let oa=0;const Ka=(e,a)=>{const s=yt[a];if(!s)return;window.clearTimeout(oa);const n=e.currentTarget.getBoundingClientRect();oa=window.setTimeout(()=>{Se.value={text:s,x:n.left,y:n.bottom+10,visible:!0}},1e3)},Fa=()=>{window.clearTimeout(oa),Se.value={text:"",x:0,y:0,visible:!1}},Ga=e=>{if(C.value){C.value=null;return}C.value=e};let ra=null,ye=null;const qa=e=>{const a=T.value;if(!a)return;const s=Math.min(2,Math.max(0,e/100));if(ye){ye.gain.value=s;return}a.volume=Math.min(1,s)},Wa=()=>{const e=T.value;if(!e||ra)return;const a=Ne();ra=a.createMediaElementSource(e),ye=a.createGain(),ye.gain.value=Math.min(2,Math.max(0,N.value/100)),ra.connect(ye),ye.connect(a.destination),e.volume=1},At=e=>{const a=Number(e.target.value);Number.isFinite(a)&&(N.value=Math.min(200,Math.max(0,a)))},It=()=>{j.value.forEach(e=>{if(!(e!=null&&e.key))return;te(e.key,"loading");const a=Ce(e.key);Oe(a).then(()=>{te(e.key,"ready")}).catch(()=>{te(e.key,"error")})})},zt=e=>{const a=T.value;if(!a||!w.value)return;const s=Number(e.target.value);a.currentTime=s/100*w.value},Et=e=>{if(!T.value||!w.value)return;const s=e.currentTarget.getBoundingClientRect(),n=Math.min(Math.max(0,e.clientX-s.left),s.width),r=s.width?n/s.width:0;Ee.value=r*w.value,i.value=n,g.value=!0},Kt=()=>{g.value=!1},Ha=(e,a)=>{if(D.value!=="spectrogram")return;const s=a==="right"?fe.value:me.value;if(!s)return;const n=s.getBoundingClientRect(),r=Math.min(Math.max(0,e.clientX-n.left),n.width),o=Math.min(Math.max(0,e.clientY-n.top),n.height);Je.value={x:n.width?r/n.width:0,y:n.height?o/n.height:0},se.value=!0,La()},Va=()=>{se.value=!1,Te(he.value),Te(ie.value)},ve=(e,a=!1)=>{if(!Number.isFinite(e))return"00:00";const s=Math.floor(e/60),n=Math.floor(e%60);if(!a)return`${String(s).padStart(2,"0")}:${String(n).padStart(2,"0")}`;const r=Math.floor((e-Math.floor(e))*1e3);return`${String(s).padStart(2,"0")}:${String(n).padStart(2,"0")}.${String(r).padStart(3,"0")}`};let Le=0,ja=0;const la=()=>{const e=T.value;if(!e)return;const a=performance.now();if(a-ja<10)return;ja=a,F.value=e.currentTime||0;const s=Number.isFinite(e.duration)&&e.duration>0?e.duration:Mt();w.value=s||0,D.value==="waveform"&&Q()},Ft=()=>{const e=()=>{la(),Le=requestAnimationFrame(e)};cancelAnimationFrame(Le),Le=requestAnimationFrame(e)},ia=()=>{cancelAnimationFrame(Le),Le=0};let De,Pe;const Oa=()=>{Ze.value||!Ke.value||(Ze.value=!0,It(),Ct(),Nt(),Pa())};return ss(()=>{if(K.value.map(a=>a.key).includes(y.value)||(y.value=c.measurementKey),De=new ResizeObserver(()=>{$t()}),W.value&&De.observe(W.value),W.value&&(Pe=new IntersectionObserver(a=>{const s=a[0];Ke.value=!!(s!=null&&s.isIntersecting),Ke.value&&Oa()},{root:null,threshold:.15}),Pe.observe(W.value)),T.value&&(qa(N.value),T.value.addEventListener("play",()=>{Y.value=!0,U.value=!1,Ft()}),T.value.addEventListener("pause",()=>{Y.value=!1,ia()}),T.value.addEventListener("ended",()=>{Y.value=!1,U.value=!0,ia()}),T.value.addEventListener("loadedmetadata",()=>{la()}),T.value.addEventListener("timeupdate",()=>{la()})),O.value){const a=O.value,s=r=>{if(D.value!=="waveform"){oe.value=!1;return}if(!w.value){oe.value=!1;return}const o=a.getBoundingClientRect(),l=Math.min(Math.max(0,r.clientX-o.left),o.width),v=Math.max(0,o.width-28),f=F.value/w.value*v,R=Math.abs(l-f)<=4;R!==oe.value&&(oe.value=R,Q())},n=()=>{oe.value&&(oe.value=!1,Q())};a.addEventListener("mousemove",s),a.addEventListener("mouseleave",n),Za(()=>{a.removeEventListener("mousemove",s),a.removeEventListener("mouseleave",n)})}}),Za(()=>{De==null||De.disconnect(),Pe==null||Pe.disconnect(),ia(),H.clear()}),re(()=>c.sampleName,()=>{Fe.value={},H.clear(),Ze.value=!1,Ke.value&&Oa()}),re(()=>y.value,()=>{U.value=!1,Y.value=!1,be.value="",Pa()}),re(()=>d.value,()=>{Q()}),re(()=>C.value,()=>{Q()}),re(()=>D.value,()=>{D.value==="spectrogram"&&(ae.value=!0),D.value!=="spectrogram"&&(se.value=!1,Te(he.value),Te(ie.value)),Q()}),re(()=>c.defaultMethod,e=>{y.value=e}),re(()=>N.value,e=>{qa(e)}),re(()=>de.value,()=>{H.clear(),D.value==="spectrogram"&&Da()}),(e,a)=>(u(),_("section",{ref_key:"containerRef",ref:W,class:"wave-compare"},[t("header",Vt,[t("div",jt,[t("span",Ot,[ha.value?(u(),_("span",Ut,b(ha.value),1)):z("",!0)]),t("span",Yt,[a[10]||(a[10]=t("span",{class:"wave-desc-label"},"Sample name",-1)),t("span",Qt,b(ht.value),1)]),a[11]||(a[11]=t("span",{class:"wave-desc-divider","aria-hidden":"true"},null,-1)),t("span",Zt,[t("span",Jt,b(He.value.label),1),t("span",Xt,b(He.value.value),1),He.value.tooltip?(u(),_("span",en,b(He.value.tooltip),1)):z("",!0)])])]),t("div",an,[t("div",sn,[(u(!0),_(P,null,A(Pt.value,s=>(u(),_("div",{key:s.key,class:"method-chip-wrap",onMouseenter:n=>Ka(n,s.key),onMouseleave:Fa},[t("button",{class:E(["method-chip",[`method-chip-${Dt(s.key)}`,{active:y.value===s.key,playing:Y.value&&be.value===s.key}]]),style:I(za(s.key)),disabled:!_e(s.key)||Sa.value,onClick:n=>Aa(s.key),type:"button"},[a[12]||(a[12]=t("span",{class:"chip-dot","aria-hidden":"true"},null,-1)),t("span",on,b(s.label),1),_e(s.key)?(u(),_("span",ln,[t("img",{class:"icon-img",src:Ea(s.key),alt:""},null,8,cn)])):(u(),_("span",rn))],14,nn)],40,tn))),128))]),Ia.value.length?(u(),_("div",un,[a[14]||(a[14]=t("span",{class:"method-group-label"},"Methods",-1)),t("div",dn,[(u(!0),_(P,null,A(Ia.value,s=>(u(),_("div",{key:s.key,class:"method-chip-wrap",onMouseenter:n=>Ka(n,s.key),onMouseleave:Fa},[t("button",{class:E(["method-chip method-chip-secondary",{active:y.value===s.key,playing:Y.value&&be.value===s.key}]),style:I(za(s.key)),disabled:!_e(s.key)||Sa.value,onClick:n=>Aa(s.key),type:"button"},[a[13]||(a[13]=t("span",{class:"chip-dot","aria-hidden":"true"},null,-1)),t("span",pn,b(s.label),1),_e(s.key)?(u(),_("span",fn,[t("img",{class:"icon-img",src:Ea(s.key),alt:""},null,8,hn)])):(u(),_("span",mn))],14,vn)],40,_n))),128))])])):z("",!0)]),(u(),ca(Wt,{to:"body"},[Se.value.visible?(u(),_("div",{key:0,class:"method-tip-global",style:I({left:`${Se.value.x}px`,top:`${Se.value.y}px`})},b(Se.value.text),5)):z("",!0)])),t("div",gn,[t("div",bn,[t("div",wn,[t("span",{class:"legend-item",style:I({opacity:bt.value}),onMouseenter:a[0]||(a[0]=s=>d.value="measurement"),onMouseleave:a[1]||(a[1]=s=>d.value=null),onClick:a[2]||(a[2]=s=>Ga("measurement"))},[t("span",{class:"legend-swatch legend-measurement","aria-hidden":"true",style:I({background:qe.value})},null,4),Qe(" "+b(pa.value),1)],36),G.value?(u(),_("span",{key:0,class:"legend-item",style:I({opacity:wt.value}),onMouseenter:a[3]||(a[3]=s=>d.value="compare"),onMouseleave:a[4]||(a[4]=s=>d.value=null),onClick:a[5]||(a[5]=s=>Ga("compare"))},[t("span",{class:"legend-swatch legend-compare","aria-hidden":"true",style:I({background:We.value})},null,4),Qe(" "+b(va.value),1)],36)):z("",!0)]),t("div",Sn,[t("div",yn,[t("button",{class:E(["view-toggle-btn",{active:D.value==="waveform"}]),onClick:a[6]||(a[6]=s=>D.value="waveform"),type:"button"},"Waveform",2),t("button",{class:E(["view-toggle-btn",{active:D.value==="spectrogram"}]),onClick:a[7]||(a[7]=s=>D.value="spectrogram"),type:"button"},"Spectrogram",2)]),wa.value?(u(),_("span",{key:0,class:E(["wave-status",{"wave-status-error":ke.value||xe.value}])},b(wa.value),3)):z("",!0)])]),le(t("div",Rn,[t("canvas",{ref_key:"combinedCanvasRef",ref:O,class:"wave-canvas"},null,512),ee.value?(u(),_("div",Mn,"Loading...")):z("",!0)],512),[[Be,D.value==="waveform"]]),le(t("div",Bn,[t("div",kn,[(u(!0),_(P,null,A(we.value,s=>(u(),_("span",{key:s,class:E(["time-axis-tick",{"is-major":s%2===0,"is-start":s===0,"is-end":s===mt.value}]),style:I({left:`${w.value?s/w.value*100:0}%`})},[a[15]||(a[15]=t("span",{class:"time-axis-line"},null,-1)),t("span",xn,b(s%2===0?ve(s):""),1)],6))),128)),oe.value?(u(),_("div",{key:0,class:"time-axis-caret",style:I({left:`${pt.value}%`})},[t("span",Cn,b(ve(F.value,!0)),1)],4)):z("",!0)])],512),[[Be,D.value==="waveform"]]),le(t("div",Nn,[t("div",$n,[t("span",Tn,b(pa.value),1),a[16]||(a[16]=t("span",{class:"spectrogram-gap"},null,-1)),t("span",Ln,b(G.value?va.value:""),1)]),t("div",Dn,[t("div",{class:E(["spectrogram-side",{"spectrogram-hovering":se.value}]),onMousemove:a[8]||(a[8]=s=>Ha(s,"left")),onMouseleave:Va},[t("canvas",{ref_key:"spectrogramLeftRef",ref:me,class:"spectrogram-canvas"},null,512),le(t("canvas",{ref_key:"spectrogramZoomLeftRef",ref:he,class:"spectrogram-zoom-canvas"},null,512),[[Be,se.value]]),t("div",Pn,[a[18]||(a[18]=t("span",{class:"spectrogram-axis-title"},"Frequency[kHz]",-1)),(u(!0),_(P,null,A(ma.value,s=>(u(),_("span",{key:`y-${s}`,class:"spectrogram-axis-tick",style:I({top:`${100-s/8*100}%`})},[a[17]||(a[17]=t("span",{class:"spectrogram-axis-line"},null,-1)),t("span",An,b(s),1)],4))),128))]),t("div",In,[(u(!0),_(P,null,A(we.value,s=>(u(),_("span",{key:`x-left-${s}`,class:E(["spectrogram-axis-tick",{"is-major":s%2===0}]),style:I({left:`${w.value?s/w.value*100:0}%`})},[a[19]||(a[19]=t("span",{class:"spectrogram-axis-line"},null,-1)),t("span",zn,b(s%2===0?ve(s):""),1)],6))),128))]),ae.value?(u(),_("div",En,"Loading...")):z("",!0)],34),a[23]||(a[23]=t("div",{class:"spectrogram-gap"},null,-1)),t("div",{class:E(["spectrogram-side",{"spectrogram-hovering":se.value}]),onMousemove:a[9]||(a[9]=s=>Ha(s,"right")),onMouseleave:Va},[t("canvas",{ref_key:"spectrogramRightRef",ref:fe,class:"spectrogram-canvas"},null,512),le(t("canvas",{ref_key:"spectrogramZoomRightRef",ref:ie,class:"spectrogram-zoom-canvas"},null,512),[[Be,se.value&&G.value]]),t("div",Kn,[a[21]||(a[21]=t("span",{class:"spectrogram-axis-title"},"Frequency[kHz]",-1)),(u(!0),_(P,null,A(ma.value,s=>(u(),_("span",{key:`y2-${s}`,class:"spectrogram-axis-tick",style:I({top:`${100-s/8*100}%`})},[a[20]||(a[20]=t("span",{class:"spectrogram-axis-line"},null,-1)),t("span",Fn,b(s),1)],4))),128))]),t("div",Gn,[(u(!0),_(P,null,A(we.value,s=>(u(),_("span",{key:`x-right-${s}`,class:E(["spectrogram-axis-tick",{"is-major":s%2===0}]),style:I({left:`${w.value?s/w.value*100:0}%`})},[a[22]||(a[22]=t("span",{class:"spectrogram-axis-line"},null,-1)),t("span",qn,b(s%2===0?ve(s):""),1)],6))),128))]),G.value?z("",!0):(u(),_("span",Wn,"Select a method")),ae.value&&G.value?(u(),_("div",Hn,"Loading...")):z("",!0)],34)])],512),[[Be,D.value==="spectrogram"]]),le(t("div",Vn,[a[25]||(a[25]=t("div",{class:"spectrogram-colorbar-wrap","aria-label":"Spectrogram energy scale"},[t("span",{class:"spectrogram-colorbar-label"},"0 dB"),t("div",{class:"spectrogram-colorbar"}),t("span",{class:"spectrogram-colorbar-label"},"-60 dB")],-1)),t("div",jn,[a[24]||(a[24]=t("span",{class:"spectrogram-quality-label"},"Quality",-1)),t("div",On,[(u(),_(P,null,A([1,2,3,4,5],s=>t("button",{key:`quality-${s}`,class:E(["spectrogram-quality-option",{active:de.value===s}]),onClick:n=>St(s),type:"button"},b(s),11,Un)),64))])])],512),[[Be,D.value==="spectrogram"]]),t("div",Yn,[t("button",{class:"progress-play",type:"button",onClick:Lt,"aria-label":fa.value},[t("img",{class:"icon-img",src:ft.value,alt:fa.value},null,8,Zn)],8,Qn),t("span",Jn,b(ve(F.value)),1),t("div",{class:E(["progress-track",{"progress-track-hover":g.value}]),onMousemove:Et,onMouseleave:Kt},[t("input",{class:"progress-bar",type:"range",min:"0",max:"100",step:"0.1",value:Xe.value,style:I(dt.value),onInput:zt},null,44,Xn),g.value?(u(),_("div",{key:0,class:"progress-tooltip",style:I({left:`${i.value}px`})},b(vt.value),5)):z("",!0)],34),t("span",eo,"-"+b(ve(_t.value)),1),t("div",ao,[t("button",{class:"volume-button",type:"button","aria-label":ba.value},[t("img",{class:"icon-img",src:gt.value,alt:ba.value},null,8,to)],8,so),t("div",no,[t("div",oo,b(ga.value),1),t("div",ro,[t("input",{class:"volume-slider",type:"range",min:"0",max:"200",step:"1",value:ga.value,onInput:At},null,40,lo)]),a[26]||(a[26]=t("div",{class:"volume-scale"},"0–200",-1))])])]),t("audio",{ref_key:"audioRef",ref:T,class:"wave-audio",src:Ge.value,preload:"metadata"},null,8,io)])],512))}},es=as(uo,[["__scopeId","data-v-44a5bff6"]]),_o={class:"rsb-page"},vo={class:"rsb-article"},po={class:"rsb-section rsb-fade rsb-delay-5"},mo={class:"rsb-audio-group"},fo={class:"rsb-audio-header"},ho={class:"rsb-visual-toggle"},go={key:1,class:"rsb-simple-table-wrap"},bo={class:"rsb-simple-table"},wo={class:"rsb-cell-sample"},So={class:"rsb-cell-metric"},yo=["src"],Ro={key:0,class:"rsb-audio-actions"},Mo=["disabled"],Bo=["disabled"],ko={class:"rsb-audio-group"},xo={class:"rsb-audio-header"},Co={class:"rsb-visual-toggle"},No={key:1,class:"rsb-simple-table-wrap"},$o={class:"rsb-simple-table"},To={class:"rsb-cell-sample"},Lo={class:"rsb-cell-metric"},Do=["src"],Po={key:0,class:"rsb-audio-actions"},Ao=["disabled"],Io=["disabled"],zo={__name:"RSB",setup(ua){const N=["051o020a_c1_454_snr=5.2.wav","051o020t_c1_473_snr=8.3.wav","053c010d_c1_896_snr=1.1.wav","053c010k_c1_903_snr=-5.0.wav","421o0307_c1_1896_snr=8.7.wav"],c=["050a050v_c1_152_t60=1.57.wav","22gc0110_c1_1161_t60=1.72.wav","420c020o_c1_1633_t60=1.19.wav","421c0214_c2_1769_t60=1.86.wav","422c020d_c2_1982_t60=1.68.wav"],J=p(!1),K=p(!1),j=p(0),y=p(0),W=p(!0),O=p(!0),me=h(()=>J.value?N:[N[j.value]??N[0]].filter(Boolean)),fe=h(()=>K.value?c:[c[y.value]??c[0]].filter(Boolean)),he=()=>{N.length&&(j.value=(j.value-1+N.length)%N.length)},ie=()=>{N.length&&(j.value=(j.value+1)%N.length)},T=()=>{c.length&&(y.value=(y.value-1+c.length)%c.length)},ge=()=>{c.length&&(y.value=(y.value+1)%c.length)},$=[{key:"Measurement",label:"Measurement"},{key:"NCSN++M",label:"NCSN++M"},{key:"StoRM",label:"StoRM"},{key:"SB",label:"SB"},{key:"RSB",label:"RSB (Ours)"},{key:"Ground_Truth",label:"Ground Truth"}],L=(g,i)=>new URL(Object.assign({"../../assets/RSB/audio/Ground_Truth/050a050v_c1_152_t60=1.57.wav":ts,"../../assets/RSB/audio/Ground_Truth/051o020a_c1_454_snr=5.2.wav":ns,"../../assets/RSB/audio/Ground_Truth/051o020t_c1_473_snr=8.3.wav":os,"../../assets/RSB/audio/Ground_Truth/053c010d_c1_896_snr=1.1.wav":rs,"../../assets/RSB/audio/Ground_Truth/053c010k_c1_903_snr=-5.0.wav":ls,"../../assets/RSB/audio/Ground_Truth/22gc0110_c1_1161_t60=1.72.wav":is,"../../assets/RSB/audio/Ground_Truth/420c020o_c1_1633_t60=1.19.wav":cs,"../../assets/RSB/audio/Ground_Truth/421c0214_c2_1769_t60=1.86.wav":us,"../../assets/RSB/audio/Ground_Truth/421o0307_c1_1896_snr=8.7.wav":ds,"../../assets/RSB/audio/Ground_Truth/422c020d_c2_1982_t60=1.68.wav":_s,"../../assets/RSB/audio/Measurement/050a050v_c1_152_t60=1.57.wav":vs,"../../assets/RSB/audio/Measurement/051o020a_c1_454_snr=5.2.wav":ps,"../../assets/RSB/audio/Measurement/051o020t_c1_473_snr=8.3.wav":ms,"../../assets/RSB/audio/Measurement/053c010d_c1_896_snr=1.1.wav":fs,"../../assets/RSB/audio/Measurement/053c010k_c1_903_snr=-5.0.wav":hs,"../../assets/RSB/audio/Measurement/22gc0110_c1_1161_t60=1.72.wav":gs,"../../assets/RSB/audio/Measurement/420c020o_c1_1633_t60=1.19.wav":bs,"../../assets/RSB/audio/Measurement/421c0214_c2_1769_t60=1.86.wav":ws,"../../assets/RSB/audio/Measurement/421o0307_c1_1896_snr=8.7.wav":Ss,"../../assets/RSB/audio/Measurement/422c020d_c2_1982_t60=1.68.wav":ys,"../../assets/RSB/audio/NCSN++M/050a050v_c1_152_t60=1.57.wav":Rs,"../../assets/RSB/audio/NCSN++M/051o020a_c1_454_snr=5.2.wav":Ms,"../../assets/RSB/audio/NCSN++M/051o020t_c1_473_snr=8.3.wav":Bs,"../../assets/RSB/audio/NCSN++M/053c010d_c1_896_snr=1.1.wav":ks,"../../assets/RSB/audio/NCSN++M/053c010k_c1_903_snr=-5.0.wav":xs,"../../assets/RSB/audio/NCSN++M/22gc0110_c1_1161_t60=1.72.wav":Cs,"../../assets/RSB/audio/NCSN++M/420c020o_c1_1633_t60=1.19.wav":Ns,"../../assets/RSB/audio/NCSN++M/421c0214_c2_1769_t60=1.86.wav":$s,"../../assets/RSB/audio/NCSN++M/421o0307_c1_1896_snr=8.7.wav":Ts,"../../assets/RSB/audio/NCSN++M/422c020d_c2_1982_t60=1.68.wav":Ls,"../../assets/RSB/audio/RSB/050a050v_c1_152_t60=1.57.wav":Ds,"../../assets/RSB/audio/RSB/051o020a_c1_454_snr=5.2.wav":Ps,"../../assets/RSB/audio/RSB/051o020t_c1_473_snr=8.3.wav":As,"../../assets/RSB/audio/RSB/053c010d_c1_896_snr=1.1.wav":Is,"../../assets/RSB/audio/RSB/053c010k_c1_903_snr=-5.0.wav":zs,"../../assets/RSB/audio/RSB/22gc0110_c1_1161_t60=1.72.wav":Es,"../../assets/RSB/audio/RSB/420c020o_c1_1633_t60=1.19.wav":Ks,"../../assets/RSB/audio/RSB/421c0214_c2_1769_t60=1.86.wav":Fs,"../../assets/RSB/audio/RSB/421o0307_c1_1896_snr=8.7.wav":Gs,"../../assets/RSB/audio/RSB/422c020d_c2_1982_t60=1.68.wav":qs,"../../assets/RSB/audio/SB/050a050v_c1_152_t60=1.57.wav":Ws,"../../assets/RSB/audio/SB/051o020a_c1_454_snr=5.2.wav":Hs,"../../assets/RSB/audio/SB/051o020t_c1_473_snr=8.3.wav":Vs,"../../assets/RSB/audio/SB/053c010d_c1_896_snr=1.1.wav":js,"../../assets/RSB/audio/SB/053c010k_c1_903_snr=-5.0.wav":Os,"../../assets/RSB/audio/SB/22gc0110_c1_1161_t60=1.72.wav":Us,"../../assets/RSB/audio/SB/420c020o_c1_1633_t60=1.19.wav":Ys,"../../assets/RSB/audio/SB/421c0214_c2_1769_t60=1.86.wav":Qs,"../../assets/RSB/audio/SB/421o0307_c1_1896_snr=8.7.wav":Zs,"../../assets/RSB/audio/SB/422c020d_c2_1982_t60=1.68.wav":Js,"../../assets/RSB/audio/StoRM/050a050v_c1_152_t60=1.57.wav":Xs,"../../assets/RSB/audio/StoRM/051o020a_c1_454_snr=5.2.wav":et,"../../assets/RSB/audio/StoRM/051o020t_c1_473_snr=8.3.wav":at,"../../assets/RSB/audio/StoRM/053c010d_c1_896_snr=1.1.wav":st,"../../assets/RSB/audio/StoRM/053c010k_c1_903_snr=-5.0.wav":tt,"../../assets/RSB/audio/StoRM/22gc0110_c1_1161_t60=1.72.wav":nt,"../../assets/RSB/audio/StoRM/420c020o_c1_1633_t60=1.19.wav":ot,"../../assets/RSB/audio/StoRM/421c0214_c2_1769_t60=1.86.wav":rt,"../../assets/RSB/audio/StoRM/421o0307_c1_1896_snr=8.7.wav":lt,"../../assets/RSB/audio/StoRM/422c020d_c2_1982_t60=1.68.wav":it})[`../../assets/RSB/audio/${g}/${i}`],import.meta.url).href,X=g=>{const i=g.match(/snr=([\-\d]+(?:\.\d+)?)/i);if(i)return`SNR ${i[1]} dB`;const d=g.match(/t60=([\-\d]+(?:\.\d+)?)/i);return d?`T60 ${d[1]} s`:"—"},F=(g,i=1)=>g.toFixed(i).replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1"),w=g=>g>=1e9?`${F(g/1e9)}B`:g>=1e6?`${F(g/1e6)}M`:g>=1e3?`${F(g/1e3)}K`:g.toString(),U=()=>{var C;const g=document.getElementById("busuanzi_value_site_pv");if(!g)return!1;const i=((C=g.textContent)==null?void 0:C.trim())??"";if(!i)return!1;const d=Number(i.replace(/,/g,""));return Number.isFinite(d)?(g.textContent=w(d),g.setAttribute("title",d.toLocaleString()),!0):!1},Ee=()=>{U();const g=window.setInterval(()=>{U()&&window.clearInterval(g)},300),i=new MutationObserver(()=>{U()&&i.disconnect()}),d=document.getElementById("busuanzi_container_site_pv");d&&i.observe(d,{childList:!0,subtree:!0})};return ss(()=>{if(!document.querySelector("script[data-busuanzi]")){const g=document.createElement("script");g.async=!0,g.src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",g.setAttribute("data-busuanzi","true"),document.body.appendChild(g)}Ee()}),(g,i)=>(u(),_("section",_o,[t("article",vo,[i[15]||(i[15]=Ja('<img class="rsb-watermark" src="'+Ht+'" alt="" aria-hidden="true" data-v-1e151ff2><header class="rsb-hero rsb-fade rsb-delay-1" data-v-1e151ff2><p class="rsb-kicker" data-v-1e151ff2>Paper demo</p><h1 class="rsb-title" data-v-1e151ff2> Regularized <span class="rsb-highlight" data-v-1e151ff2>Schrödinger Bridge</span> via Distortion-Perception Perturbation for High-Fidelity <span class="rsb-highlight" data-v-1e151ff2>Speech Enhancement</span></h1><p class="rsb-authors" data-v-1e151ff2><span class="rsb-author" data-v-1e151ff2><span class="rsb-author-name" data-v-1e151ff2> Qing Yao <sup data-v-1e151ff2>1</sup></span><span class="rsb-email" data-v-1e151ff2>qyao@stmail.ujs.edu.cn</span></span><span class="rsb-author" data-v-1e151ff2><span class="rsb-author-name" data-v-1e151ff2> Lijian Gao <sup data-v-1e151ff2>1</sup></span><span class="rsb-email" data-v-1e151ff2>ljgao@ujs.edu.cn</span></span><span class="rsb-author" data-v-1e151ff2><span class="rsb-author-name" data-v-1e151ff2> Qirong Mao <sup data-v-1e151ff2>1</sup><sup class="rsb-tag" data-v-1e151ff2>†</sup></span><span class="rsb-email" data-v-1e151ff2>mao_qr@ujs.edu.cn</span></span><span class="rsb-author" data-v-1e151ff2><span class="rsb-author-name" data-v-1e151ff2> Ming Dong <sup data-v-1e151ff2>2</sup><sup class="rsb-tag" data-v-1e151ff2>†</sup></span><span class="rsb-email" data-v-1e151ff2>mdong@wayne.edu</span></span></p><ol class="rsb-affiliations" data-v-1e151ff2><li data-v-1e151ff2><sup data-v-1e151ff2>1</sup> Jiangsu University </li><li data-v-1e151ff2><sup data-v-1e151ff2>2</sup> Wayne State University </li></ol><p class="rsb-affiliation-note" data-v-1e151ff2><sup class="rsb-tag" data-v-1e151ff2>†</sup> Corresponding Author </p></header><nav class="rsb-nav rsb-fade rsb-delay-2" data-v-1e151ff2><span class="rsb-nav-title" data-v-1e151ff2>Quick Access</span><a class="rsb-nav-link rsb-nav-disabled" href="" aria-label="Paper link" aria-disabled="true" tabindex="-1" data-v-1e151ff2><span class="rsb-nav-icon rsb-nav-icon-demo" aria-hidden="true" data-v-1e151ff2></span> Paper </a><a class="rsb-nav-link" href="https://github.com/Yorch233/RSB/" aria-label="Github repository link" aria-disabled="true" tabindex="-1" data-v-1e151ff2><img class="rsb-nav-icon" src="https://github.githubassets.com/favicons/favicon.svg" alt="" data-v-1e151ff2> Github </a><a class="rsb-nav-link" href="https://huggingface.co/Yorch233/RSB/" aria-label="Hugging Face repository link" aria-disabled="true" tabindex="-1" data-v-1e151ff2><img class="rsb-nav-icon" src="https://huggingface.co/front/assets/huggingface_logo-noborder.svg" alt="" data-v-1e151ff2> Hugging Face </a><a class="rsb-nav-link rsb-nav-disabled" href="https://huggingface.co/spaces/Yorch233/RSB/" aria-label="Online demo link" aria-disabled="true" tabindex="-1" data-v-1e151ff2><img class="rsb-nav-icon" src="https://huggingface.co/front/assets/huggingface_logo-noborder.svg" alt="" data-v-1e151ff2> Online Demo </a></nav><section class="rsb-section rsb-fade rsb-delay-3" data-v-1e151ff2><h2 data-v-1e151ff2><span class="rsb-wave" aria-hidden="true" data-v-1e151ff2><span data-v-1e151ff2></span></span> Abstract </h2><div class="rsb-abstract-wrap" data-v-1e151ff2><p class="rsb-abstract" data-v-1e151ff2><span class="rsb-highlight" data-v-1e151ff2>Speech enhancement</span> (SE) requires high-fidelity reconstruction of clean speech that preserves linguistic and paralinguistic cues while maintaining high perceptual quality. Recently, <span class="rsb-highlight" data-v-1e151ff2>Schrödinger Bridge</span> (SB), a family of diffusion-based generative models, has advanced SE by bridging degraded and clean speech distributions in a principled formulation, enabling higher-quality reconstructions with fewer sampling steps. However, diffusion-based SE methods still face two challenges: <span class="rsb-issue" data-v-1e151ff2> (1) the fidelity-realism tradeoff, where they often prioritize perceptual realism encouraged by the learned speech prior, at the expense of fidelity; </span><span class="rsb-issue" data-v-1e151ff2> (2) the exposure bias issue, where iterative multi-step sampling causes early-step prediction errors to accumulate along the sampling trajectory and degrade enhanced speech quality. </span> In this paper, we analyze standard SB training and show that it induces a systematic prediction drift, which biases the multi-step trajectory and amplifies error accumulation. To address this, we propose <span class="rsb-highlight" data-v-1e151ff2>Regularized Schrödinger Bridge (RSB)</span> for high-fidelity SE, a generative approach that reconciles fidelity and realism while mitigating exposure bias. <span class="rsb-highlight" data-v-1e151ff2>RSB regularizes training with a Distortion-Perception Perturbation</span> that constructs time-varying targets by interpolating between clean speech and posterior-mean estimates, and trains the network on perturbed intermediate states to correct toward the ground truth progressively. Consequently, such perturbation simulates inference-time prediction errors, mitigating the training–inference mismatch and thereby reducing exposure bias. Furthermore, it also injects posterior-mean estimates as fidelity-preserving guidance, facilitating reconstruction fidelity. Experiments on the WSJ0 corpus and VoiceBank+DEMAND dataset demonstrate that RSB improves reconstruction fidelity over the advanced SE baselines, yielding a favorable fidelity-realism tradeoff and reducing exposure bias. </p><div class="rsb-legend" aria-hidden="true" data-v-1e151ff2><span class="rsb-legend-item" data-v-1e151ff2><span class="rsb-legend-swatch rsb-legend-swatch-highlight" data-v-1e151ff2></span> Key Concepts </span><span class="rsb-legend-item" data-v-1e151ff2><span class="rsb-legend-swatch rsb-legend-swatch-issue" data-v-1e151ff2></span> Issues </span></div></div></section><section class="rsb-section rsb-fade rsb-delay-4" data-v-1e151ff2><h2 data-v-1e151ff2><span class="rsb-wave" aria-hidden="true" data-v-1e151ff2><span data-v-1e151ff2></span></span> Keywords </h2><div class="rsb-meta" data-v-1e151ff2><span class="rsb-chip" data-v-1e151ff2>Speech enhancement</span><span class="rsb-chip" data-v-1e151ff2>Schrödinger bridge</span><span class="rsb-chip" data-v-1e151ff2>Diffusion models</span><span class="rsb-chip" data-v-1e151ff2>Distortion-perception tradeoff</span><span class="rsb-chip" data-v-1e151ff2>Exposure bias</span></div></section>',5)),t("section",po,[i[14]||(i[14]=Ja('<h2 data-v-1e151ff2><span class="rsb-wave" aria-hidden="true" data-v-1e151ff2><span data-v-1e151ff2></span></span> Audio Samples </h2><p class="rsb-muted" data-v-1e151ff2> We publicly release <span class="rsb-accent" data-v-1e151ff2>10 samples</span> in total, drawn from two synthetic datasets: <span class="rsb-accent" data-v-1e151ff2>WSJ0+WHAM</span> is the denoising dataset and <span class="rsb-accent" data-v-1e151ff2>WSJ0+REVERB</span> is the dereverberation dataset. </p>',2)),t("div",mo,[t("div",fo,[i[6]||(i[6]=t("h3",{class:"rsb-subtitle"},"WSJ0+WHAM (Denoising)",-1)),t("label",ho,[i[4]||(i[4]=t("span",{class:"rsb-toggle-label"},"Visualization",-1)),le(t("input",{"onUpdate:modelValue":i[0]||(i[0]=d=>W.value=d),type:"checkbox"},null,512),[[Xa,W.value]]),i[5]||(i[5]=t("span",{class:"rsb-toggle-slider","aria-hidden":"true"},null,-1))])]),t("div",{class:E(["rsb-audio-list",{"rsb-audio-list-simple":!W.value}])},[W.value?(u(!0),_(P,{key:0},A(me.value,(d,C)=>(u(),ca(es,{key:d,"sample-name":d,"sample-index":J.value?C+1:j.value+1,methods:$,"default-method":"Measurement"},null,8,["sample-name","sample-index"]))),128)):(u(),_("div",go,[t("table",bo,[t("thead",null,[t("tr",null,[i[7]||(i[7]=t("th",null,"Sample Name",-1)),i[8]||(i[8]=t("th",null,"SNR/T60",-1)),(u(),_(P,null,A($,d=>t("th",{key:d.key},b(d.label),1)),64))])]),t("tbody",null,[(u(),_(P,null,A(N,d=>t("tr",{key:d},[t("td",wo,b(d),1),t("td",So,b(X(d)),1),(u(),_(P,null,A($,C=>t("td",{key:`${d}-${C.key}`,class:"rsb-cell-audio"},[t("audio",{class:"rsb-simple-audio",src:L(C.key,d),controls:"",preload:"none"},null,8,yo)])),64))])),64))])])]))],2),W.value?(u(),_("div",Ro,[t("button",{class:"rsb-nav-btn",type:"button",disabled:J.value,onClick:he},"Previous",8,Mo),t("button",{class:"rsb-show-more",type:"button",onClick:i[1]||(i[1]=d=>J.value=!J.value)},b(J.value?"Hiden":"Show More"),1),t("button",{class:"rsb-nav-btn",type:"button",disabled:J.value,onClick:ie},"Next",8,Bo)])):z("",!0)]),t("div",ko,[t("div",xo,[i[11]||(i[11]=t("h3",{class:"rsb-subtitle"},"WSJ0+REVERB (Dereverberation)",-1)),t("label",Co,[i[9]||(i[9]=t("span",{class:"rsb-toggle-label"},"Visualization",-1)),le(t("input",{"onUpdate:modelValue":i[2]||(i[2]=d=>O.value=d),type:"checkbox"},null,512),[[Xa,O.value]]),i[10]||(i[10]=t("span",{class:"rsb-toggle-slider","aria-hidden":"true"},null,-1))])]),t("div",{class:E(["rsb-audio-list",{"rsb-audio-list-simple":!O.value}])},[O.value?(u(!0),_(P,{key:0},A(fe.value,(d,C)=>(u(),ca(es,{key:d,"sample-name":d,"sample-index":K.value?C+1:y.value+1,methods:$,"default-method":"Measurement"},null,8,["sample-name","sample-index"]))),128)):(u(),_("div",No,[t("table",$o,[t("thead",null,[t("tr",null,[i[12]||(i[12]=t("th",null,"Sample Name",-1)),i[13]||(i[13]=t("th",null,"SNR/T60",-1)),(u(),_(P,null,A($,d=>t("th",{key:d.key},b(d.label),1)),64))])]),t("tbody",null,[(u(),_(P,null,A(c,d=>t("tr",{key:d},[t("td",To,b(d),1),t("td",Lo,b(X(d)),1),(u(),_(P,null,A($,C=>t("td",{key:`${d}-${C.key}`,class:"rsb-cell-audio"},[t("audio",{class:"rsb-simple-audio",src:L(C.key,d),controls:"",preload:"none"},null,8,Do)])),64))])),64))])])]))],2),O.value?(u(),_("div",Po,[t("button",{class:"rsb-nav-btn",type:"button",disabled:K.value,onClick:T},"Previous",8,Ao),t("button",{class:"rsb-show-more",type:"button",onClick:i[3]||(i[3]=d=>K.value=!K.value)},b(K.value?"Hiden":"Show More"),1),t("button",{class:"rsb-nav-btn",type:"button",disabled:K.value,onClick:ge},"Next",8,Io)])):z("",!0)])])]),i[16]||(i[16]=t("footer",{class:"rsb-footer rsb-fade rsb-delay-5"},[t("span",{id:"busuanzi_container_site_pv"},[Qe(" Total site visits "),t("span",{id:"busuanzi_value_site_pv"}),Qe(" times ")]),t("span",{class:"rsb-footer-copy"},"© 2026 Qing Yao. All rights reserved.")],-1))]))}},Ko=as(zo,[["__scopeId","data-v-1e151ff2"]]);export{Ko as default};
